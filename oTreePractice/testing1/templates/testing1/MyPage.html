{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    問
{% endblock %}

{% block global_styles %}
<style>
    body {
	    text-align: center
    }
    .speech-area {
	    margin: auto;
            padding: 8px;
            text-align: center;
            border: 4px solid black;
	    width: 280px;
            height: auto;
	    font-size: 40px;

    }
    .debug-info {
	    display: none;
    }
    .button {
	    border: 1px solid black
    }
</style>
{% endblock %}


{% block content %}
    大家好
    <div class="speech-area" id="speech-area">
	    我
	    2 週後<br>
	    得到<br>
	    120 元
    </div>
    <button class="button" type="button" id="speak-button"> 請點擊播放語音 </button>
{% block global_scripts %}
<script>
	var synth = window.speechSynthesis;
	function speak(text) {
		var utterThis = new SpeechSynthesisUtterance(text);
		utterThis.onend = function(event) {
			console.error('SpeechSynthesisUtterance.onerror');
		}
		utterThis.pitch = 1
		utterThis.rate = {{ player.treatment }}
		synth.speak(utterThis)
	}
	$('#speak-button').click(function(){
		speak($('#speech-area').text())
	})
</script>
{% endblock %}

    {% formfields %}
    {% next_button %}

{% endblock %}
